"use strict";(self["webpackChunkadmin"]=self["webpackChunkadmin"]||[]).push([[256],{7256:function(e,t,n){n.r(t),n.d(t,{default:function(){return m}});var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"about"},[n("el-form",{nativeOn:{submit:function(t){return t.preventDefault(),e.save.apply(null,arguments)}}},[n("h1",[e._v(e._s(e.id?"编辑":"新建")+"广告位")]),n("el-form-item",{attrs:{label:"广告名字"}},[n("el-input",{model:{value:e.model.name,callback:function(t){e.$set(e.model,"name",t)},expression:"model.name"}})],1),n("el-form-item",[n("el-button",{on:{click:function(t){return e.model.items.push({})}}},[n("i",{staticClass:"el-icon-plus"}),e._v(" 添加广告位")]),e._l(e.model.items,(function(t,r){return n("el-row",{key:r,staticStyle:{"flex-wrap":"wrap"},attrs:{type:"flex"}},[n("el-col",{attrs:{md:24}},[n("el-form-item",{attrs:{label:"广告链接URL"}},[n("el-input",{model:{value:t.url,callback:function(n){e.$set(t,"url",n)},expression:"item.url"}})],1),n("p",[e._v("图标")]),n("el-form-item",{staticClass:"upload"},[n("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.uploadURL,"show-file-list":!1,"on-success":function(n){return e.$set(t,"image",n.url)},headers:e.getAuthHeaders()}},[t.image?n("img",{staticClass:"avatar",attrs:{src:t.image}}):n("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),n("el-form-item",[n("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(t){return e.model.items.splice(r,1)}}},[e._v("删除")])],1)],1)],1)}))],2),n("el-form-item",[n("el-button",{attrs:{type:"primary","native-type":"submit"}},[e._v("提交")])],1)],1)],1)},a=[],s=n(6198),i=(n(5666),n(6418)),u={props:{id:{type:String}},data:function(){return{model:{items:[]}}},methods:{save:function(){var e=this;return(0,s.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.id){t.next=5;break}return t.next=3,(0,i.s9)(e.id,e.model);case 3:t.next=7;break;case 5:return t.next=7,(0,i.Om)(e.model);case 7:e.$router.push("/ads/list"),e.$message({type:"success",message:"保存成功"});case 9:case"end":return t.stop()}}),t)})))()},fetch:function(){var e=this;return(0,s.Z)(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,i.a$)(e.id);case 2:n=t.sent,r=n.data,e.model=Object.assign({},e.model,r);case 5:case"end":return t.stop()}}),t)})))()}},created:function(){this.id&&this.fetch()}},l=u,o=n(1001),c=(0,o.Z)(l,r,a,!1,null,"3a12e948",null),m=c.exports},6418:function(e,t,n){n.d(t,{B8:function(){return a},Om:function(){return s},a$:function(){return u},k4:function(){return l},s9:function(){return i}});var r=n(6051),a=function(){return r.A.get("ads")},s=function(e){return r.A.post("ads",e)},i=function(){return r.A.put("ads/".concat(arguments.length<=0?void 0:arguments[0]),arguments.length<=1?void 0:arguments[1])},u=function(e){return r.A.get("ads/".concat(e))},l=function(e){return r.A.post("ads/".concat(e))}}}]);
//# sourceMappingURL=256-legacy.006fa127.js.map