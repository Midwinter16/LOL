"use strict";(self["webpackChunkadmin"]=self["webpackChunkadmin"]||[]).push([[250],{3250:function(e,t,n){n.r(t),n.d(t,{default:function(){return f}});var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"about"},[n("el-form",{attrs:{"label-width":"120px"},nativeOn:{submit:function(t){return t.preventDefault(),e.save.apply(null,arguments)}}},[n("h1",[e._v(e._s(e.id?"编辑分类":"新建分类"))]),n("el-form-item",{attrs:{label:"上级分类"}},[n("el-select",{attrs:{placeholder:"请选择"},model:{value:e.model.parent,callback:function(t){e.$set(e.model,"parent",t)},expression:"model.parent"}},e._l(e.parents,(function(e){return n("el-option",{key:e._id,attrs:{label:e.name,value:e._id}})})),1)],1),n("el-form-item",{attrs:{label:"名字"}},[n("el-input",{model:{value:e.model.name,callback:function(t){e.$set(e.model,"name",t)},expression:"model.name"}})],1),n("el-form-item",[n("el-button",{attrs:{type:"primary","native-type":"submit"}},[e._v("提交")])],1)],1)],1)},a=[],u=n(6198),i=(n(5666),n(392)),s={props:{id:{type:String}},data:function(){return{model:{},parents:[]}},methods:{save:function(){var e=this;return(0,u.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.id){t.next=5;break}return t.next=3,(0,i.s9)(e.id,e.model);case 3:t.next=7;break;case 5:return t.next=7,(0,i.Om)(e.model);case 7:e.$router.push("/categories/list"),e.$message({type:"success",message:"保存成功"});case 9:case"end":return t.stop()}}),t)})))()},fetch:function(){var e=this;return(0,u.Z)(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,i.a$)(e.id);case 2:n=t.sent,r=n.data,e.model=r;case 5:case"end":return t.stop()}}),t)})))()},fetchParents:function(){var e=this;return(0,u.Z)(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,i.OU)();case 2:n=t.sent,r=n.data,e.parents=r;case 5:case"end":return t.stop()}}),t)})))()}},created:function(){this.id&&this.fetch(),this.fetchParents()}},o=s,c=n(1001),l=(0,c.Z)(o,r,a,!1,null,null,null),f=l.exports},392:function(e,t,n){n.d(t,{AT:function(){return a},OU:function(){return o},Om:function(){return u},a$:function(){return s},k4:function(){return c},s9:function(){return i}});var r=n(6051),a=function(){return r.A.get("categories")},u=function(e){return r.A.post("categories",e)},i=function(){return r.A.put("categories/".concat(arguments.length<=0?void 0:arguments[0]),arguments.length<=1?void 0:arguments[1])},s=function(e){return r.A.get("categories/".concat(e))},o=function(){return r.A.get("categories")},c=function(e){return r.A.post("categories/".concat(e))}}}]);
//# sourceMappingURL=250-legacy.14474653.js.map