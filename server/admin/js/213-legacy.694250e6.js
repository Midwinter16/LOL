"use strict";(self["webpackChunkadmin"]=self["webpackChunkadmin"]||[]).push([[213],{5213:function(t,e,n){n.r(e),n.d(e,{default:function(){return m}});var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"about"},[n("el-form",{attrs:{"label-width":"120px"},nativeOn:{submit:function(e){return e.preventDefault(),t.save.apply(null,arguments)}}},[n("h1",[t._v(t._s(t.id?"编辑":"新建")+"物品")]),n("el-form-item",{attrs:{label:"名字"}},[n("el-input",{model:{value:t.model.name,callback:function(e){t.$set(t.model,"name",e)},expression:"model.name"}})],1),n("el-form-item",{staticClass:"upload",attrs:{label:"图标"}},[n("el-upload",{staticClass:"avatar-uploader",attrs:{action:t.uploadURL,"show-file-list":!1,"on-success":t.afterUpload,headers:t.getAuthHeaders()}},[t.model.icon?n("img",{staticClass:"avatar",attrs:{src:t.model.icon}}):n("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),n("el-form-item",[n("el-button",{attrs:{type:"primary","native-type":"submit"}},[t._v("提交")])],1)],1)],1)},a=[],s=n(6198),i=(n(5666),n(5274)),u={props:{id:{type:String}},data:function(){return{model:{}}},methods:{save:function(){var t=this;return(0,s.Z)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.id){e.next=5;break}return e.next=3,(0,i.s9)(t.id,t.model);case 3:e.next=7;break;case 5:return e.next=7,(0,i.Om)(t.model);case 7:t.$router.push("/items/list"),t.$message({type:"success",message:"保存成功"});case 9:case"end":return e.stop()}}),e)})))()},fetch:function(){var t=this;return(0,s.Z)(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,i.a$)(t.id);case 2:n=e.sent,r=n.data,t.model=r;case 5:case"end":return e.stop()}}),e)})))()},afterUpload:function(t){this.$set(this.model,"icon",t.url)}},created:function(){this.id&&this.fetch()}},o=u,c=n(1001),l=(0,c.Z)(o,r,a,!1,null,"39959dfc",null),m=l.exports},5274:function(t,e,n){n.d(e,{Om:function(){return s},a$:function(){return u},k4:function(){return o},mC:function(){return a},s9:function(){return i}});var r=n(6051),a=function(){return r.A.get("items")},s=function(t){return r.A.post("items",t)},i=function(){return r.A.put("items/".concat(arguments.length<=0?void 0:arguments[0]),arguments.length<=1?void 0:arguments[1])},u=function(t){return r.A.get("items/".concat(t))},o=function(t){return r.A.post("items/".concat(t))}}}]);
//# sourceMappingURL=213-legacy.694250e6.js.map