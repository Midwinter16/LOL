{"version":3,"file":"js/108.25983538.js","mappings":"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","sources":["webpack://admin/./src/views/HeroEdit.vue?cdf3","webpack://admin/src/views/HeroEdit.vue","webpack://admin/./src/views/HeroEdit.vue?30f0","webpack://admin/./src/views/HeroEdit.vue","webpack://admin/./src/api/admin/categories.js","webpack://admin/./src/api/admin/heroes.js","webpack://admin/./src/api/admin/items.js"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"about\"},[_c('el-form',{attrs:{\"label-width\":\"120px\"},nativeOn:{\"submit\":function($event){$event.preventDefault();return _vm.save.apply(null, arguments)}}},[_c('h1',[_vm._v(_vm._s(_vm.id ? \"编辑\" : \"新建\")+\"英雄\")]),_c('el-tabs',{attrs:{\"type\":\"border-card\"}},[_c('el-tab-pane',{attrs:{\"label\":\"基础信息\"}},[_c('el-form-item',{attrs:{\"label\":\"名称\"}},[_c('el-input',{model:{value:(_vm.model.name),callback:function ($$v) {_vm.$set(_vm.model, \"name\", $$v)},expression:\"model.name\"}})],1),_c('el-form-item',{staticClass:\"upload\",attrs:{\"label\":\"图标\"}},[_c('el-upload',{staticClass:\"avatar-uploader\",attrs:{\"headers\":_vm.getAuthHeaders(),\"action\":_vm.uploadURL,\"show-file-list\":false,\"on-success\":_vm.afterUpload}},[(_vm.model.icon)?_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.model.icon}}):_c('i',{staticClass:\"el-icon-plus avatar-uploader-icon\"})])],1),_c('el-form-item',{attrs:{\"label\":\"称号\"}},[_c('el-input',{model:{value:(_vm.model.title),callback:function ($$v) {_vm.$set(_vm.model, \"title\", $$v)},expression:\"model.title\"}})],1),_c('el-form-item',{attrs:{\"label\":\"类型\"}},[_c('el-select',{attrs:{\"multiple\":\"\"},model:{value:(_vm.model.categories),callback:function ($$v) {_vm.$set(_vm.model, \"categories\", $$v)},expression:\"model.categories\"}},_vm._l((_vm.categories),function(item){return _c('el-option',{key:item._id,attrs:{\"label\":item.name,\"value\":item._id}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"难度\"}},[_c('el-rate',{staticStyle:{\"margin-top\":\"0.6rem\"},attrs:{\"show-score\":\"\",\"max\":3},model:{value:(_vm.model.scores.difficult),callback:function ($$v) {_vm.$set(_vm.model.scores, \"difficult\", $$v)},expression:\"model.scores.difficult\"}})],1),_c('el-form-item',{attrs:{\"label\":\"攻击\"}},[_c('el-rate',{staticStyle:{\"margin-top\":\"0.6rem\"},attrs:{\"show-score\":\"\",\"max\":3},model:{value:(_vm.model.scores.attack),callback:function ($$v) {_vm.$set(_vm.model.scores, \"attack\", $$v)},expression:\"model.scores.attack\"}})],1),_c('el-form-item',{attrs:{\"label\":\"技能\"}},[_c('el-rate',{staticStyle:{\"margin-top\":\"0.6rem\"},attrs:{\"show-score\":\"\",\"max\":3},model:{value:(_vm.model.scores.skills),callback:function ($$v) {_vm.$set(_vm.model.scores, \"skills\", $$v)},expression:\"model.scores.skills\"}})],1),_c('el-form-item',{attrs:{\"label\":\"生存\"}},[_c('el-rate',{staticStyle:{\"margin-top\":\"0.6rem\"},attrs:{\"show-score\":\"\",\"max\":3},model:{value:(_vm.model.scores.survive),callback:function ($$v) {_vm.$set(_vm.model.scores, \"survive\", $$v)},expression:\"model.scores.survive\"}})],1),_c('el-form-item',{attrs:{\"label\":\"顺风出装\"}},[_c('el-select',{attrs:{\"multiple\":\"\"},model:{value:(_vm.model.items_adv),callback:function ($$v) {_vm.$set(_vm.model, \"items_adv\", $$v)},expression:\"model.items_adv\"}},_vm._l((_vm.items),function(item){return _c('el-option',{key:item._id,attrs:{\"label\":item.name,\"value\":item._id}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"逆风出装\"}},[_c('el-select',{attrs:{\"multiple\":\"\"},model:{value:(_vm.model.items_dis),callback:function ($$v) {_vm.$set(_vm.model, \"items_dis\", $$v)},expression:\"model.items_dis\"}},_vm._l((_vm.items),function(item){return _c('el-option',{key:item._id,attrs:{\"label\":item.name,\"value\":item._id}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"使用技巧\"}},[_c('el-input',{attrs:{\"resize\":\"none\",\"type\":\"textarea\",\"autosize\":{ minRows: 2 }},model:{value:(_vm.model.usageTips),callback:function ($$v) {_vm.$set(_vm.model, \"usageTips\", $$v)},expression:\"model.usageTips\"}})],1),_c('el-form-item',{attrs:{\"label\":\"对抗技巧\"}},[_c('el-input',{attrs:{\"resize\":\"none\",\"type\":\"textarea\",\"autosize\":{ minRows: 2 }},model:{value:(_vm.model.battleTips),callback:function ($$v) {_vm.$set(_vm.model, \"battleTips\", $$v)},expression:\"model.battleTips\"}})],1),_c('el-form-item',{attrs:{\"label\":\"团战技巧\"}},[_c('el-input',{attrs:{\"resize\":\"none\",\"type\":\"textarea\",\"autosize\":{ minRows: 2 }},model:{value:(_vm.model.teamTips),callback:function ($$v) {_vm.$set(_vm.model, \"teamTips\", $$v)},expression:\"model.teamTips\"}})],1)],1),_c('el-tab-pane',{attrs:{\"label\":\"技能信息\",\"name\":\"skills\"}},[_c('el-button',{on:{\"click\":function($event){return _vm.model.skills.push({})}}},[_c('i',{staticClass:\"el-icon-plus\"}),_vm._v(\" 添加技能\")]),_vm._l((_vm.model.skills),function(item,index){return _c('el-row',{key:index,staticStyle:{\"flex-wrap\":\"wrap\"},attrs:{\"type\":\"flex\"}},[_c('el-col',{attrs:{\"md\":12}},[_c('el-form-item',{attrs:{\"label\":\"技能名称\"}},[_c('el-input',{model:{value:(item.name),callback:function ($$v) {_vm.$set(item, \"name\", $$v)},expression:\"item.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"技能消耗\"}},[_c('el-input',{model:{value:(item.cost),callback:function ($$v) {_vm.$set(item, \"cost\", $$v)},expression:\"item.cost\"}})],1),_c('el-form-item',{attrs:{\"label\":\"技能冷却\"}},[_c('el-input',{model:{value:(item.cooldown),callback:function ($$v) {_vm.$set(item, \"cooldown\", $$v)},expression:\"item.cooldown\"}})],1),_c('el-form-item',{attrs:{\"label\":\"技能描述\"}},[_c('el-input',{attrs:{\"autosize\":{ minRows: 2 },\"type\":\"textarea\",\"resize\":\"none\"},model:{value:(item.description),callback:function ($$v) {_vm.$set(item, \"description\", $$v)},expression:\"item.description\"}})],1),_c('el-form-item',{attrs:{\"label\":\"技能提示\"}},[_c('el-input',{model:{value:(item.tips),callback:function ($$v) {_vm.$set(item, \"tips\", $$v)},expression:\"item.tips\"}})],1)],1),_c('el-col',{attrs:{\"md\":12}},[_c('el-form-item',{staticClass:\"upload partner\",attrs:{\"label\":\"图标\"}},[_c('el-upload',{staticClass:\"avatar-uploader\",attrs:{\"headers\":_vm.getAuthHeaders(),\"action\":_vm.uploadURL,\"show-file-list\":false,\"on-success\":function (res) { return _vm.$set(item, 'icon', res.url); }}},[(item.icon)?_c('img',{staticClass:\"avatar\",attrs:{\"src\":item.icon}}):_c('i',{staticClass:\"el-icon-plus avatar-uploader-icon\"})])],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"danger\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.model.skills.splice(index, 1)}}},[_vm._v(\"删除\")])],1)],1),_c('div',{staticClass:\"hr\"})],1)})],2),_c('el-tab-pane',{attrs:{\"label\":\"最佳搭档\",\"name\":\"partner\"}},[_c('el-button',{staticClass:\"mb-2\",on:{\"click\":function($event){return _vm.model.partner.push({})}}},[_c('i',{staticClass:\"el-icon-plus\"}),_vm._v(\" 添加搭档\")]),_vm._l((_vm.model.partner),function(item,index){return _c('el-row',{key:(\"partner\" + index),staticStyle:{\"flex-wrap\":\"wrap\"},attrs:{\"type\":\"flex\"}},[_c('el-col',{attrs:{\"md\":12}},[_c('el-form-item',{attrs:{\"label\":\"英雄\"}},[_c('el-select',{attrs:{\"filterable\":\"\"},model:{value:(item.hero),callback:function ($$v) {_vm.$set(item, \"hero\", $$v)},expression:\"item.hero\"}},_vm._l((_vm.heroes),function(item){return _c('el-option',{key:item._id,attrs:{\"label\":item.title,\"value\":item._id}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"搭档描述\"}},[_c('el-input',{attrs:{\"autosize\":{ minRows: 2 },\"type\":\"textarea\",\"resize\":\"none\"},model:{value:(item.description),callback:function ($$v) {_vm.$set(item, \"description\", $$v)},expression:\"item.description\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"danger\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.model.partner.splice(index, 1)}}},[_vm._v(\"删除\")])],1)],1)],1)})],2)],1),_c('el-form-item',{staticStyle:{\"margin-top\":\"1rem\"}},[_c('el-button',{attrs:{\"type\":\"primary\",\"native-type\":\"submit\"}},[_vm._v(\"提交\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"about\">\r\n    <el-form label-width=\"120px\" @submit.native.prevent=\"save\">\r\n      <h1>{{ id ? \"编辑\" : \"新建\" }}英雄</h1>\r\n\r\n      <el-tabs type=\"border-card\">\r\n        <el-tab-pane label=\"基础信息\">\r\n          <el-form-item label=\"名称\">\r\n            <el-input v-model=\"model.name\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"图标\" class=\"upload\">\r\n            <el-upload\r\n              class=\"avatar-uploader\"\r\n              :headers=\"getAuthHeaders()\"\r\n              :action=\"uploadURL\"\r\n              :show-file-list=\"false\"\r\n              :on-success=\"afterUpload\"\r\n            >\r\n              <!-- afterUpload指的是在上传完毕之后触发的方法 -->\r\n              <!-- action是指上传的地址 -->\r\n              <img v-if=\"model.icon\" :src=\"model.icon\" class=\"avatar\" />\r\n              <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\r\n            </el-upload>\r\n          </el-form-item>\r\n          <el-form-item label=\"称号\">\r\n            <el-input v-model=\"model.title\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"类型\">\r\n            <el-select multiple v-model=\"model.categories\">\r\n              <el-option\r\n                :label=\"item.name\"\r\n                :value=\"item._id\"\r\n                v-for=\"item in categories\"\r\n                :key=\"item._id\"\r\n              >\r\n              </el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n          <el-form-item label=\"难度\">\r\n            <el-rate\r\n              show-score\r\n              style=\"margin-top: 0.6rem\"\r\n              :max=\"3\"\r\n              v-model=\"model.scores.difficult\"\r\n            ></el-rate>\r\n          </el-form-item>\r\n          <el-form-item label=\"攻击\">\r\n            <el-rate\r\n              show-score\r\n              style=\"margin-top: 0.6rem\"\r\n              :max=\"3\"\r\n              v-model=\"model.scores.attack\"\r\n            ></el-rate>\r\n          </el-form-item>\r\n          <el-form-item label=\"技能\">\r\n            <el-rate\r\n              show-score\r\n              style=\"margin-top: 0.6rem\"\r\n              :max=\"3\"\r\n              v-model=\"model.scores.skills\"\r\n            ></el-rate>\r\n          </el-form-item>\r\n          <el-form-item label=\"生存\">\r\n            <el-rate\r\n              show-score\r\n              style=\"margin-top: 0.6rem\"\r\n              :max=\"3\"\r\n              v-model=\"model.scores.survive\"\r\n            ></el-rate>\r\n          </el-form-item>\r\n          <el-form-item label=\"顺风出装\">\r\n            <el-select multiple v-model=\"model.items_adv\">\r\n              <el-option\r\n                :label=\"item.name\"\r\n                :value=\"item._id\"\r\n                v-for=\"item in items\"\r\n                :key=\"item._id\"\r\n              >\r\n              </el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n          <el-form-item label=\"逆风出装\">\r\n            <el-select multiple v-model=\"model.items_dis\">\r\n              <el-option\r\n                :label=\"item.name\"\r\n                :value=\"item._id\"\r\n                v-for=\"item in items\"\r\n                :key=\"item._id\"\r\n              >\r\n              </el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n          <el-form-item label=\"使用技巧\">\r\n            <el-input\r\n              resize=\"none\"\r\n              type=\"textarea\"\r\n              :autosize=\"{ minRows: 2 }\"\r\n              v-model=\"model.usageTips\"\r\n            ></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"对抗技巧\">\r\n            <el-input\r\n              resize=\"none\"\r\n              type=\"textarea\"\r\n              :autosize=\"{ minRows: 2 }\"\r\n              v-model=\"model.battleTips\"\r\n            ></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"团战技巧\">\r\n            <el-input\r\n              resize=\"none\"\r\n              type=\"textarea\"\r\n              :autosize=\"{ minRows: 2 }\"\r\n              v-model=\"model.teamTips\"\r\n            ></el-input>\r\n          </el-form-item>\r\n        </el-tab-pane>\r\n        <el-tab-pane label=\"技能信息\" name=\"skills\">\r\n          <el-button @click=\"model.skills.push({})\"\r\n            ><i class=\"el-icon-plus\"></i> 添加技能</el-button\r\n          >\r\n          <el-row\r\n            v-for=\"(item, index) in model.skills\"\r\n            :key=\"index\"\r\n            style=\"flex-wrap: wrap\"\r\n            type=\"flex\"\r\n          >\r\n            <el-col :md=\"12\">\r\n              <el-form-item label=\"技能名称\">\r\n                <el-input v-model=\"item.name\"></el-input>\r\n              </el-form-item>\r\n              <el-form-item label=\"技能消耗\">\r\n                <el-input v-model=\"item.cost\"></el-input>\r\n              </el-form-item>\r\n              <el-form-item label=\"技能冷却\">\r\n                <el-input v-model=\"item.cooldown\"></el-input>\r\n              </el-form-item>\r\n\r\n              <el-form-item label=\"技能描述\"\r\n                ><el-input\r\n                  :autosize=\"{ minRows: 2 }\"\r\n                  type=\"textarea\"\r\n                  resize=\"none\"\r\n                  v-model=\"item.description\"\r\n                ></el-input\r\n              ></el-form-item>\r\n\r\n              <el-form-item label=\"技能提示\">\r\n                <el-input v-model=\"item.tips\"></el-input>\r\n              </el-form-item>\r\n            </el-col>\r\n            <el-col :md=\"12\">\r\n              <el-form-item label=\"图标\" class=\"upload partner\">\r\n                <el-upload\r\n                  class=\"avatar-uploader\"\r\n                  :headers=\"getAuthHeaders()\"\r\n                  :action=\"uploadURL\"\r\n                  :show-file-list=\"false\"\r\n                  :on-success=\"(res) => $set(item, 'icon', res.url)\"\r\n                >\r\n                  <!-- afterUpload指的是在上传完毕之后触发的方法 -->\r\n                  <!-- action是指上传的地址 -->\r\n                  <img v-if=\"item.icon\" :src=\"item.icon\" class=\"avatar\" />\r\n                  <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\r\n                </el-upload>\r\n              </el-form-item>\r\n              <el-form-item>\r\n                <el-button\r\n                  type=\"danger\"\r\n                  size=\"small\"\r\n                  @click=\"model.skills.splice(index, 1)\"\r\n                  >删除</el-button\r\n                >\r\n              </el-form-item>\r\n            </el-col>\r\n            <div class=\"hr\"></div>\r\n          </el-row>\r\n        </el-tab-pane>\r\n        <el-tab-pane label=\"最佳搭档\" name=\"partner\">\r\n          <el-button class=\"mb-2\" @click=\"model.partner.push({})\"\r\n            ><i class=\"el-icon-plus\"></i> 添加搭档</el-button\r\n          >\r\n          <el-row\r\n            v-for=\"(item, index) in model.partner\"\r\n            :key=\"`partner${index}`\"\r\n            style=\"flex-wrap: wrap\"\r\n            type=\"flex\"\r\n          >\r\n            <el-col :md=\"12\">\r\n              <el-form-item label=\"英雄\">\r\n                <el-select filterable v-model=\"item.hero\">\r\n                  <el-option\r\n                    :label=\"item.title\"\r\n                    :value=\"item._id\"\r\n                    v-for=\"item in heroes\"\r\n                    :key=\"item._id\"\r\n                  >\r\n                  </el-option>\r\n                </el-select>\r\n              </el-form-item>\r\n\r\n              <el-form-item label=\"搭档描述\"\r\n                ><el-input\r\n                  :autosize=\"{ minRows: 2 }\"\r\n                  type=\"textarea\"\r\n                  resize=\"none\"\r\n                  v-model=\"item.description\"\r\n                ></el-input\r\n              ></el-form-item>\r\n              <el-form-item>\r\n                <el-button\r\n                  type=\"danger\"\r\n                  size=\"small\"\r\n                  @click=\"model.partner.splice(index, 1)\"\r\n                  >删除</el-button\r\n                >\r\n              </el-form-item>\r\n            </el-col>\r\n          </el-row>\r\n        </el-tab-pane>\r\n      </el-tabs>\r\n\r\n      <el-form-item style=\"margin-top: 1rem\"\r\n        ><el-button type=\"primary\" native-type=\"submit\"\r\n          >提交</el-button\r\n        ></el-form-item\r\n      >\r\n    </el-form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  createNewList,\r\n  getListIdInfo,\r\n  updateList,\r\n  getHeroList,\r\n} from \"@/api/admin/heroes.js\";\r\nimport { getCategoryList } from \"@/api/admin/categories.js\";\r\nimport { getItemList } from \"@/api/admin/items.js\";\r\nexport default {\r\n  props: {\r\n    id: {\r\n      type: String,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      model: {\r\n        scores: {\r\n          difficult: 0,\r\n          skills: 0,\r\n          attack: 0,\r\n          survive: 0,\r\n        },\r\n        skills: [],\r\n      },\r\n      categories: {},\r\n      items: {},\r\n      heroes: {},\r\n    };\r\n  },\r\n  methods: {\r\n    // 提交\r\n    async save() {\r\n      if (this.id) {\r\n        await updateList(this.id, this.model);\r\n      } else {\r\n        await createNewList(this.model);\r\n      }\r\n      this.$router.push(\"/heroes/list\");\r\n      this.$message({\r\n        type: \"success\",\r\n        message: \"保存成功\",\r\n      });\r\n    },\r\n    // 是以编辑的路由跳转进来的就触发该fetch，绑定数据到model上\r\n    async fetch() {\r\n      const { data: res } = await getListIdInfo(this.id);\r\n      // 使用assign的目的是因为一开始如果英雄数据为空，是没有scores这个对象的，尽管model中可以初始化scores，但是会被后来的res直接赋值给剔除，所以使用assign可以保证有scores这个对象，以免引用scores.difficult会出（can not read difficult of undefined）之类的错误\r\n      this.model = Object.assign({}, this.model, res);\r\n    },\r\n    afterUpload(res) {\r\n      this.$set(this.model, \"icon\", res.url);\r\n    },\r\n    async fetchCategoires() {\r\n      const { data: res } = await getCategoryList();\r\n      this.categories = res;\r\n    },\r\n    async fetchItems() {\r\n      const { data: res } = await getItemList();\r\n      this.items = res;\r\n    },\r\n    async initHeroesList() {\r\n      const { data: res } = await getHeroList();\r\n      this.heroes = res;\r\n    },\r\n  },\r\n  created() {\r\n    // 获取物品列表和分类列表\r\n    this.fetchCategoires();\r\n    this.fetchItems();\r\n    this.initHeroesList();\r\n    // 获取到分类options的选项数据\r\n    this.id && this.fetch();\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.upload /deep/ .avatar-uploader .el-upload {\r\n  border: 1px dashed #d9d9d9;\r\n  border-radius: 6px;\r\n  cursor: pointer;\r\n  position: relative;\r\n  overflow: hidden;\r\n}\r\n.upload /deep/ .avatar-uploader .el-upload:hover {\r\n  border-color: #409eff;\r\n}\r\n.upload /deep/ .avatar-uploader-icon {\r\n  font-size: 28px;\r\n  color: #8c939d;\r\n  width: 7rem;\r\n  height: 7rem;\r\n  line-height: 7rem;\r\n  text-align: center;\r\n}\r\n.upload /deep/ .avatar {\r\n  width: 7rem;\r\n  height: auto;\r\n  display: block;\r\n}\r\n.partner {\r\n  width: 5rem;\r\n  height: auto;\r\n}\r\n.hr {\r\n  width: 100%;\r\n  border-bottom: 1px solid rgb(223, 223, 223);\r\n  margin-bottom: 1.1538rem;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./HeroEdit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./HeroEdit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./HeroEdit.vue?vue&type=template&id=00618d59&scoped=true&\"\nimport script from \"./HeroEdit.vue?vue&type=script&lang=js&\"\nexport * from \"./HeroEdit.vue?vue&type=script&lang=js&\"\nimport style0 from \"./HeroEdit.vue?vue&type=style&index=0&id=00618d59&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"00618d59\",\n  null\n  \n)\n\nexport default component.exports","import { admin_request } from \"../index\";\r\n\r\nexport const getCategoryList = () => {\r\n  return admin_request.get(\"categories\");\r\n};\r\n\r\nexport const createNewList = (params) => {\r\n  return admin_request.post(\"categories\", params);\r\n};\r\n\r\nexport const updateList = (...params) => {\r\n  return admin_request.put(`categories/${params[0]}`, params[1]);\r\n};\r\n\r\nexport const getListIdInfo = (params) => {\r\n  return admin_request.get(`categories/${params}`);\r\n};\r\n\r\nexport const getParentsInfo = () => {\r\n  return admin_request.get(`categories`);\r\n};\r\n\r\nexport const deleteListId = (params) => {\r\n  return admin_request.post(`categories/${params}`);\r\n};\r\n","import { admin_request } from \"../index\";\r\n\r\nexport const getHeroList = () => {\r\n  return admin_request.get(\"heroes\");\r\n};\r\n\r\nexport const createNewList = (params) => {\r\n  return admin_request.post(\"heroes\", params);\r\n};\r\n\r\nexport const updateList = (...params) => {\r\n  return admin_request.put(`heroes/${params[0]}`, params[1]);\r\n};\r\n\r\nexport const getListIdInfo = (params) => {\r\n  return admin_request.get(`heroes/${params}`);\r\n};\r\n\r\nexport const deleteListId = (params) => {\r\n  return admin_request.post(`heroes/${params}`);\r\n};\r\n","import { admin_request } from \"../index\";\r\n\r\nexport const getItemList = () => {\r\n  return admin_request.get(\"items\");\r\n};\r\n\r\nexport const createNewList = (params) => {\r\n  return admin_request.post(\"items\", params);\r\n};\r\n\r\nexport const updateList = (...params) => {\r\n  return admin_request.put(`items/${params[0]}`, params[1]);\r\n};\r\n\r\nexport const getListIdInfo = (params) => {\r\n  return admin_request.get(`items/${params}`);\r\n};\r\n\r\nexport const deleteListId = (params) => {\r\n  return admin_request.post(`items/${params}`);\r\n};\r\n"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","nativeOn","$event","preventDefault","save","apply","arguments","_v","_s","id","model","value","callback","$$v","$set","expression","getAuthHeaders","uploadURL","afterUpload","icon","_l","item","key","_id","name","staticStyle","scores","minRows","on","skills","push","index","res","url","splice","partner","title","staticRenderFns","props","type","String","data","difficult","attack","survive","categories","items","heroes","methods","async","$router","$message","message","Object","assign","created","fetchCategoires","fetchItems","initHeroesList","fetch","component","getCategoryList","admin_request","createNewList","params","updateList","getListIdInfo","getParentsInfo","deleteListId","getHeroList","getItemList"],"sourceRoot":""}