"use strict";(self["webpackChunkadmin"]=self["webpackChunkadmin"]||[]).push([[250],{3250:function(t,e,a){a.r(e),a.d(e,{default:function(){return c}});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"about"},[a("el-form",{attrs:{"label-width":"120px"},nativeOn:{submit:function(e){return e.preventDefault(),t.save.apply(null,arguments)}}},[a("h1",[t._v(t._s(t.id?"编辑分类":"新建分类"))]),a("el-form-item",{attrs:{label:"上级分类"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.model.parent,callback:function(e){t.$set(t.model,"parent",e)},expression:"model.parent"}},t._l(t.parents,(function(t){return a("el-option",{key:t._id,attrs:{label:t.name,value:t._id}})})),1)],1),a("el-form-item",{attrs:{label:"名字"}},[a("el-input",{model:{value:t.model.name,callback:function(e){t.$set(t.model,"name",e)},expression:"model.name"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary","native-type":"submit"}},[t._v("提交")])],1)],1)],1)},s=[],i=a(392),r={props:{id:{type:String}},data(){return{model:{},parents:[]}},methods:{async save(){this.id?await(0,i.s9)(this.id,this.model):await(0,i.Om)(this.model),this.$router.push("/categories/list"),this.$message({type:"success",message:"保存成功"})},async fetch(){const{data:t}=await(0,i.a$)(this.id);this.model=t},async fetchParents(){const{data:t}=await(0,i.OU)();this.parents=t}},created(){this.id&&this.fetch(),this.fetchParents()}},l=r,o=a(1001),u=(0,o.Z)(l,n,s,!1,null,null,null),c=u.exports},392:function(t,e,a){a.d(e,{AT:function(){return s},OU:function(){return o},Om:function(){return i},a$:function(){return l},k4:function(){return u},s9:function(){return r}});var n=a(6051);const s=()=>n.A.get("categories"),i=t=>n.A.post("categories",t),r=(...t)=>n.A.put(`categories/${t[0]}`,t[1]),l=t=>n.A.get(`categories/${t}`),o=()=>n.A.get("categories"),u=t=>n.A.post(`categories/${t}`)}}]);
//# sourceMappingURL=250.ae935cfd.js.map